---
id: 02-01
title: "Unit 2 Chapter 1: Hugo Quick Start"
sidebar_label: "Chapter 1: Hugo Quick Start"
---

In this chapter, you will use Docker to execute the [official Hugo Quick Start exercise](https://gohugo.io/getting-started/quick-start/) for creating a new Hugo app.  The official Hugo Quick Start exercise assumes that you're doing your software development in a MacOS host environment.  This chapter adapts that exercise to a Docker environment.  Also note that this exercise uses the Minimal theme instead of the Ananke theme.

## Topics Covered
* Sharing files between the Docker and host environments
* Port assignments
* Viewing apps in the local browser

## Ownership By Root
Please note that the Hugo app you create will be owned by root in not only the Docker environment but in your host environment as well.  While it's easy to change ownership of files from root to that of your regular username, I disagree with this practice and will show you my way of doing things in later chapters.

## Starting the Docker Container
* In a shell terminal, enter the following commands:
```
cd
mkdir -p docker-hugo
cd docker-hugo
```
* Enter the following command to start up and enter a new Docker container:
```
docker run -i -t --rm -p 1313:1313 -w /myapp -v ${PWD}:/myapp golang:latest bash
```
* Note that the "-p 1313/1313" part of the above command specifies that port 1313 in the Docker container correspond to port 1313 in the host environment.  This will be important when it's time to view your Hugo app in your web browser.
* Note that the "-w /myapp" part of the above command specifies the /myapp directory as the working directory.  When you start up the Docker container, you end up in the working directory by default.
* Note that the "-v ${PWD}:/myapp" establishes file sharing.  The present working directory in your host OS corresponds to the /myapp directory in the Docker container.  Any file created in one of these two directories is automatically created in the other.  Any file edited in one of these directories is automatically edited in the other.  Any file deleted in one of these directories is automatically deleted in the other.
* After the Docker container is built, the screen output should look something like this:
```
Unable to find image 'golang:latest' locally
latest: Pulling from library/golang
e9afc4f90ab0: Pull complete 
989e6b19a265: Pull complete 
af14b6c2f878: Pull complete 
5573c4b30949: Pull complete 
d4020e2aa747: Pull complete 
94fe4bf42ebf: Pull complete 
c24da2810430: Pull complete 
Digest: sha256:ede9a57fa6d862ab87f5abcea707c3d55e445ff01d806334a1cb7aae45ec73bb
Status: Downloaded newer image for golang:latest
```
* You should now be in the Docker container.  The prompt should look something like this:
```
root@950ffb3eb099:/myapp# 
```
* Open a new shell terminal tab for entering commands in your host environment.
* In this host shell terminal tab, enter the `docker ps -a` to list the Docker containers.  The screen output should look something like this:
```
CONTAINER ID        IMAGE               COMMAND             CREATED              STATUS              PORTS                    NAMES
950ffb3eb099        golang:latest       "bash"              About a minute ago   Up About a minute   0.0.0.0:1313->1313/tcp   dazzling_wozniak
```
* Enter the command `docker images -a` to list the Docker images.  The screen output should look something like this:
```
REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
golang              latest              5fbd6463d24b        2 days ago          810MBB
```

## Installing Hugo
* Return to the Docker terminal tab, and enter the following command to update the software package list:
```
apt-get update
```
* After the software package list is updated, enter the following command in the Docker container to install Git and Hugo:
```
apt-get install -y git hugo
```

## Creating the New Hugo App
* In the Docker container, enter the following command:
```
hugo new site quickstart
```
* Congratluations!  Your new Hugo app has been created virtually instantaneously.  The screen output should look something like this:
```
Congratulations! Your new Hugo site is created in /myapp/quickstart.

Just a few more steps and you're ready to go:

1. Download a theme into the same-named folder.
   Choose a theme from https://themes.gohugo.io/, or
   create your own with the "hugo new theme <THEMENAME>" command.
2. Perhaps you want to add some content. You can add single files
   with "hugo new <SECTIONNAME>/<FILENAME>.<FORMAT>".
3. Start the built-in live server via "hugo server".

Visit https://gohugo.io/ for quickstart guide and full documentation.
```
* In the Docker container, enter the command `ls`.  You should now see the new "quickstart" app.
* Go to the host shell terminal tab, and enter the command "ls".  You should now see your new "quickstart" app here as well.  This shows that the file sharing is working.
* In your host system, open the file manager and go to the docker-hugo directory you created earlier in this chapter.  You should now see the "quickstart" app within it.  Again, this shows that the file sharing is working.
* Enter the "quickstart" directory.  Now you should see the files within the app.

## Viewing the Blank Hugo App
* In the Docker container, enter the following commands:
```
cd quickstart
hugo server -D --bind=0.0.0.0
```
* The "hugo server" command starts up the Hugo server.  The "--bind=0.0.0.0" part specifies the use of IP address 0.0.0.0 for the Docker environment, which corresponds to localhost in the host environment.
* Open your web browser, and go to the URL http://localhost:1313/ on your host system.  There should be a blank screen but no error message.  Your app is there, but there's no content whatsoever.

## Adding A Hugo Theme
* In the Docker container, press Ctrl-C to stop the Hugo server.
* Enter the following commands:
```
git init
git submodule add https://github.com/calintat/minimal.git themes/minimal
git submodule init
git submodule update
cp themes/minimal/exampleSite/config.toml .
```
* Enter the command `hugo server -D --bind=0.0.0.0`.
* Open your web browser, and go to the URL http://localhost:1313/ on your host system.  Now you should see a basic Hugo app called "Minimal".
* In the Docker container, press Ctrl-C to stop the Hugo server.

## Deleting the App
* No, you CANNOT delete this app from your host system as your regular username, because this app is owned by root.  The steps below are the easiest and quickest way to delete the app.
* Enter the command `cd ..`.
* Enter the command `ls`.  You should now see the quickstart directory.
* Enter the command `rm -r quickstart`.  This deletes the quickstart app.

## Cleaning Up Docker
* To delete all Docker networks, enter the command `docker network prune -f`.
* To view the list of Docker containers, enter the command `docker ps -a`.
* To delete all of these Docker containers, enter the following commands:
```
for i in $(docker ps -a -q)
do
  docker kill $i; wait;
  docker rm -f $i; wait;
done;
```
* To view the list of Docker containers, enter the command `docker ps -a`.  This list should now be empty.
* To view the list of Docker images, enter the command `docker images -a`.
* To delete all of these Docker images, enter the following commands:
```
for i in $(docker images -a -q)
do
  docker kill $i; wait;
  docker rmi -f $i; wait;
done;
```
* To view the list of Docker images, enter the command `docker images -a`.  This list should now be empty.
